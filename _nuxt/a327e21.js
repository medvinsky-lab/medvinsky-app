(window.webpackJsonp=window.webpackJsonp||[]).push([[18,14,15,17,20],{399:function(t,e,n){var content=n(402);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("3a7dcd69",content,!0,{sourceMap:!1})},400:function(t,e,n){"use strict";n.r(e);n(401);var r=n(46),component=Object(r.a)({},(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"p-4 rounded",attrs:{id:"card-content"}},[t._t("default")],2)}),[],!1,null,"5935a55a",null);e.default=component.exports},401:function(t,e,n){"use strict";n(399)},402:function(t,e,n){var r=n(81)((function(i){return i[1]}));r.push([t.i,"/*purgecss start ignore*/\n#card-content[data-v-5935a55a]{\n  background-color:#f2f6fa\n}\n\n/*purgecss end ignore*/",""]),r.locals={},t.exports=r},405:function(t,e,n){var content=n(411);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("474ebe32",content,!0,{sourceMap:!1})},410:function(t,e,n){"use strict";n(405)},411:function(t,e,n){var r=n(81)((function(i){return i[1]}));r.push([t.i,"/*purgecss start ignore*/\n.active[data-v-13420d88]{\n  background-color:#f7c59f\n}\n\n/*purgecss end ignore*/",""]),r.locals={},t.exports=r},412:function(t,e,n){var r=n(5),c=n(197).values;r({target:"Object",stat:!0},{values:function(t){return c(t)}})},415:function(t,e,n){"use strict";n.r(e);var r={props:{label:{type:String,default:""},value:{type:String,default:""},active:{type:Boolean,default:!1}},emits:["click"],data:function(){return{hover:!1}},computed:{activated:function(){return!!(this.hover|this.active)}}},c=(n(410),n(46)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"py-1 px-2 bg-gray-900 text-gray-50 rounded",class:{active:t.activated,"text-gray-900":t.activated},on:{mouseenter:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1},click:function(e){return t.$emit("click")}}},[t._v("\n  "+t._s(t.label)+"\n")])}),[],!1,null,"13420d88",null);e.default=component.exports},416:function(t,e,n){"use strict";n.r(e);var r=n(7),c=(n(43),n(47),n(63),n(11),n(24),n(64),n(412),n(31),n(65),{props:{data:{type:Object},activeLigand:{type:String},activeReceptor:{type:String}},methods:{chartLoaded:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,c,o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[e.activeLigand,e.activeReceptor],c=e.axisIds.indexOf(e.activeLigand),o=e.axisIds.indexOf(e.activeReceptor),l=e.$parent.$parent.$parent.$refs["data-area"].$refs,r.includes(null)||t.series[0].points.forEach((function(p){var t=p.x,e=p.y;p.setState(""),e===c&&t===o&&p.setState("select")})),n.next=7,new Promise((function(t,e){setTimeout((function(){console.log("Done waiting"),t()}),1e3)}));case 7:Object.values(l).forEach((function(n){n.$children.forEach((function(n){n.$el.addEventListener("click",(function(){r=[e.activeLigand,e.activeReceptor],c=e.axisIds.indexOf(e.activeLigand),o=e.axisIds.indexOf(e.activeReceptor),r.includes(null)||t.series[0].points.forEach((function(p){var t=p.x,e=p.y;p.setState(""),e===c&&t===o&&(p.select(),p.setState("select"))}))}))}))}));case 8:case"end":return n.stop()}}),n)})))()}},computed:{axis:function(){var t=[];return this.data.axis.forEach((function(e,i){t[i]=e.label})),t},axisIds:function(){var t=[];return this.data.axis.forEach((function(e,i){t[i]=e.id})),t},chartOptions:function(){return{chart:{type:"heatmap",margin:100,animation:!1},title:{text:null},xAxis:{categories:this.axis,gridLineWidth:0,lineWidth:0,labels:{rotation:0,enabled:!0,align:"center",formatter:function(){return this.value.replace(/\s/g,"</br>")}}},yAxis:{categories:this.axis,gridLineWidth:0,title:null,reversed:!0,labels:{enabled:!0,formatter:function(){return this.value.replace(/\s/g,"</br>")}}},colorAxis:{stops:[[0,"#fef0d9"],[.2,"#fdd49e"],[.4,"#fdbb84"],[.6,"#fc8d59"],[.8,"#e34a33"],[1,"#b30000"]]},tooltip:{formatter:function(){var t=this.series.yAxis.categories[this.point.y],e=this.series.xAxis.categories[this.point.x];return"x: ".concat(e,"<br>")+"y: ".concat(t,"<br>")+"val: ".concat(this.point.value)}},legend:{align:"right",layout:"vertical",margin:0,verticalAlign:"top",y:85,x:-20,enabled:!0},series:[{allowPointSelect:!1,animation:!1,type:"heatmap",data:this.data.data,dataLabels:{enabled:!0,color:"#000000"},borderRadius:10,borderColor:"white",colsize:.95,rowsize:.95,marker:{states:{select:{enabled:!0,fillColor:void 0,lineWidth:3,lineColor:"red"}}}}],plotOptions:{series:{states:{hover:{enabled:!1}}}},credits:{enabled:!1}}}}}),o=n(46),component=Object(o.a)(c,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("highchart",{staticClass:"flex-grow rounded",attrs:{options:t.chartOptions,modules:["heatmap"]},on:{chartLoaded:t.chartLoaded}})}),[],!1,null,null,null);e.default=component.exports},417:function(t,e,n){"use strict";n.r(e);n(11),n(24),n(49),n(418);var r=n(419),c=n.n(r),o=n(420),l=n.n(o);c.a.use(l.a);var d={props:{plotData:{type:Array,default:function(){return[]}}},methods:{initPlot:function(){var t=c()({container:this.$refs.cy,style:[{selector:".show",style:{label:"data(score)","text-background-opacity":1,"text-background-shape":"round-rectangle","text-background-color":"#f2f6fa","text-background-padding":5,"font-weight":500}},{selector:"edge",style:{width:"mapData(score, 0, 1, 0.2, 20)","line-opacity":"mapData(score, 0, 1, 0.5, 1)","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:"node",style:{label:"data(id)",width:"mapData(dcn, 0, 1, 10, 50)",height:"mapData(dcn, 0, 1, 10, 50)"}}]});this.plotData.forEach((function(e){t.add([{group:"nodes",data:{id:e.ligand,type:"ligand"},style:{shape:"round-triangle"}},{group:"nodes",data:{id:e.receptor,type:"receptor"},style:{shape:"circle"}},{group:"edges",data:{id:e.ligand+e.receptor,source:e.ligand,target:e.receptor,score:Math.round(100*parseFloat(e.score))/100}}])}));t.edges().sort((function(a,b){return b-a})).slice(0,15).style({"line-color":"red","target-arrow-color":"red"}),t.on("click","edge",(function(t){t.target.toggleClass("show")}));var e=t.elements().degreeCentralityNormalized();t.nodes().forEach((function(t){t.data({dcn:e.degree(t)})})),t.layout({name:"d3-force",fit:!1,infinite:!1,linkId:function(t){return t.id},linkDistance:40,manyBodyStrength:-300}).run()}},watch:{plotData:function(){this.initPlot()}},mounted:function(){this.initPlot()}},f=n(46),component=Object(f.a)(d,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"cy",staticClass:"flex-grow bg-white rounded",attrs:{id:"cy"}})}),[],!1,null,null,null);e.default=component.exports},425:function(t,e,n){"use strict";n.r(e);var r=n(7),c=(n(47),n(63),n(43),{data:function(){return{heatmapData:[],interactionsData:[]}},computed:{activeDataset:function(){return this.$store.getters.activeDataset},activeLigand:function(){return this.$store.getters.activeLigand},activeReceptor:function(){return this.$store.getters.activeReceptor},activePlot:function(){return this.$store.getters.activePlot},activeSelection:function(){return[this.activeLigand,this.activeReceptor]}},watch:{activeDataset:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchHeatmapData();case 2:n=e.sent,t.heatmapData=n;case 4:case"end":return e.stop()}}),e)})))()},activeSelection:function(){this.activeSelection.includes(null)||this.fetchInteractionsData()}},fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchHeatmapData();case 2:n=e.sent,t.heatmapData=n;case 4:case"end":return e.stop()}}),e)})))()},methods:{setActivePlot:function(t){this.$store.dispatch("setActivePlot",t)},fetchHeatmapData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$content("heatmaps").where({slug:t.activeDataset}).fetch().then((function(t){return t[0]}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))()},fetchInteractionsData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.activeLigand+"_to_"+t.activeLigand,e.next=3,t.$content("interactions/"+t.activeDataset).where({slug:n}).fetch();case 3:r=e.sent,t.interactionsData=r;case 5:case"end":return e.stop()}}),e)})))()}}}),o=n(46),component=Object(o.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-card",{staticClass:"flex flex-col"},[n("div",{staticClass:"mb-2 flex flex-row space-x-2 h-14 flex-wrap content-end"},[n("standard-button",{attrs:{label:"Heatmap",active:"heatmap"===t.activePlot},on:{click:function(e){return t.setActivePlot("heatmap")}}}),t._v(" "),n("standard-button",{attrs:{label:"Interactions",active:"interaction"===t.activePlot},on:{click:function(e){return t.setActivePlot("interaction")}}})],1),t._v(" "),"heatmap"===t.activePlot?n("heatmap",{key:t.activeDataset,attrs:{data:t.heatmapData,"active-ligand":t.activeLigand,"active-receptor":t.activeReceptor}}):"interaction"===t.activePlot&&t.activeLigand&&t.activeReceptor?n("interaction-plot",{attrs:{"plot-data":t.interactionsData}}):n("div",{staticClass:"flex flex-grow justify-center items-center"},[n("div",{staticClass:"bg-white p-8 rounded"},[t._v("\n      Please select ligand and receptor populations\n    ")])])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{StandardButton:n(415).default,Heatmap:n(416).default,InteractionPlot:n(417).default,MainCard:n(400).default})}}]);